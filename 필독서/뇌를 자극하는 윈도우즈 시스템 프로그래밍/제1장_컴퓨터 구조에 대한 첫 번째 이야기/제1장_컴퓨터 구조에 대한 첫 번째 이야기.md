# [뇌자극] 윈도우즈 시스템 프로그래밍

---

# 1장. 컴퓨터 구조에 대한 첫 번째 이야기

1. **시스템 프로그래밍의 이해와 접근**
    - **“시스템 프로그램” → Windows, UNIX, MacOS → 하드웨어 컨트롤러**
    - **Windosw가 제공하는 함수들을 제대로 이해하고 사용하기 위함**
    - **캐쉬 → CPU 내부에 존재**
    - **컴퓨터 시스템의 주요 구성요소**
        
        ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/abbc9c55-a3d7-4468-8722-806ebe1bf494.png)
        
2. **컴퓨터 하드웨어의 구성**
    - **컴퓨터 하드웨어의 구성**
        
        ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled.png)
        
    - **CPU(Central Proccessing Unit)**
        - 중앙처리장치 → 머리 → 연산 담당 1찐
    - **메인 메모리(Main Memory)**
        - “프로그램 실행을 위해 존재하는 메모리”
    - **입출력 버스(Input/Output Bus)**
        - “Address Bus”, “Data Bus”, “Control Bus”, “Bus System”
3. **CPU에 대한 이해**
    - **ALU(Arithmetic Logic Unit)**
        - 실제 연산 담당(최전방 연산 공격수, 연산 담당 따거)
        - 연산 대상자들, 피 연산자들이 들어오는 공간
        - 기본적인 연산
            - 산술 연산 → 덧셈, 뺄셈 같은 산술
            - 논리 연산 → AND, OR 같은 논리
    - **컨트롤 유닛(Control Unit)**
        - 명령어(2진 데이터)가 들어오는 공간
        - 보스, 사령관, 통역사 → 명령어를 해석하고 담당 부서에게 전파
    - **레지스터(Register Set)**
        - 임시 저장소(2진 데이터 저장)
        - 식당이 만석이여서, 잠시 밖에서 기다릴 수 있게 한 “대기 좌석”
    - **버스 인터페이스(Bus Interface)**
        - I/O 버스 통신 방식을 이해해야 한다
        - I/O 버스와 CPU와의 연결을 위해서 인터페이스가 필요 → 컨트롤러(Controller), 어댑터(Adapter)
        - 입출력 버스는 우체국
        - 버스 인터페이스는 운송장 → 택배를 보낼 때는 운송장이 있고, 운송장에 맞는 방식이 있는데, 그걸 무시하고 주소란에 이름쓰고, 주소 제대로 안쓰면, 택배를 보낼 수도 받을 수도 없다.
    - **클럭 신호(Clock Pulse)**
        - CPU를 구성하는 요소는 아니다
        - CPU의 클럭 속도와 초당 처리하는 명령어의 개수는 정비다
        - “디지털 논리 회로”
        - 동기화의 필요 → 공장에서 느린 기계에 맞춰서 진행한다 → 아니면 특정 부분이 너무 빠르면 막 물건이 싸이고, 문제 생기고 이럴 가능성이 있기에 동기화는 필수다
            
            ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%201.png)
            
4. **프로그램의 실행과정**
    - **실행파일의 생성단계**
        
        ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%202.png)
        
    - **단계 1:  전처리기에 의한 치환작업**
        - 전처리기에 대한 “나”만의 정의 → ?
        - “#include”, “#define” 같이 “#”로 시작하며, 그에 따라 소스코드를 변경하는 작업을 한다. ex) 원래는 #include <vector>를 추가하기 전에는, 컴파일러가 std::vector에 대해서 모르지만, 추가되면 전처리기에 의해서 std::vector가 치환되어 컴파일러가 알아볼 수 있게 된다.
    - **단계 2:  컴파일러에 의한 번역**
        - 어셈블리 코드란? → 로우 레벨 언어
        - 컴파일러 번역가 등장 → C언어에서 어셈블리 언어로 번역
    - **단계 3:  어셈블러에 의한 바이너리 코드 생성**
        - 변환 프로그램 → 어셈블러
        - 테이블을 참조해 어셈블리 코드(좌)를 바이너리 코드(우)로 변환해주는 프로그램 → 어셈블러
            
            ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%203.png)
            
    - **단계 4:  링커에 의한 연결과 결합**
        - 링커 → 모든 참조하는 함수, 라이브러리들 등을 하나로 묶는다 → 보따리 끈? 상자 포장 끈? → 이로서 하나의 실행파일이 생성된다
            
            ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%204.png)
            
            ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%205.png)
            
            - 단계 1. Fetch
            - 단계 2. Decode
            - 단계 3. Execution
    - (번외)폰 노이만 → “Stored Program Concept” → 프로그램이 컴퓨터 내부에 저장되고, 이것을 순서대로 실행해야하나라는 이론을 제시한 사람
5. **하드웨어 구성의 재접근**
    - Execution→ALU, Decode→Control Unit, 명령어 A는 IR(Instruction Register)에 저장된다
    - Fetch 데이터 전송 경로 → 버스 시스템(Bus System)
    - 버스 시스템의 구성
        
        ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%206.png)
        
        - 데이터 버스(Data Bus) → 모든 데이터를 이동하기 위해 필요한 버스
        - 어드레스 버스(Address Bus) → 주소를 이동하기 위해 필요한 버스
        - 컨트롤 버스(Control Bus) → 서로 암구호를 이동하기 위해 필요한 버스
            
            ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%207.png)
            
    
    ![Untitled](%5B%E1%84%82%E1%85%AC%E1%84%8C%E1%85%A1%E1%84%80%E1%85%B3%E1%86%A8%5D%20%E1%84%8B%E1%85%B1%E1%86%AB%E1%84%83%E1%85%A9%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%B3%20%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A6%E1%86%B7%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%207322ee0aa305443da6438015667c556c/Untitled%208.png)